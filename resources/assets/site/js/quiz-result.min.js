var quiz_answers_array=[],quiz_results_array=[],quiz_answered_questions=[],quiz_user_selected_answer=[],quiz_correct_count=0,is_last_question_answered=!1;function get_quiz_answers(e){var s=$("#url").val();$.ajax({type:"GET",dataType:"json",data:{post_id:e},url:s+"/get-quiz-answer-array",success:function(e){1==e[0]&&(quiz_answers_array=e[1],console.log(quiz_answers_array))},error:function(e){console.log("Error:",e)}})}function get_quiz_results(e){var s=$("#url").val();$.ajax({type:"GET",dataType:"json",data:{post_id:e},url:s+"/get-quiz-result-array",success:function(e){1==e[0]&&(quiz_results_array=e[1],console.log(quiz_results_array))},error:function(e){console.log("Error:",e)}})}function is_exist_quiz_question_answer(e,s){var r;for(r=0;r<quiz_answers_array.length;r++)if(quiz_answers_array[r][0]==e&&quiz_answers_array[r][1]==s)return!0;return!1}function get_correct_answer_id(e){var s;for(s=0;s<quiz_answers_array.length;s++)if(quiz_answers_array[s][0]==e)return quiz_answers_array[s][1]}function show_quiz_result(){if(quiz_results_array.length>0){var e,s="";if(0==quiz_correct_count){var r=quiz_results_array[0][1];s=quiz_results_array[0][3];for(e=0;e<quiz_results_array.length;e++)if(r>quiz_results_array[e][1])r=quiz_results_array[e][1],s=quiz_results_array[e][3]}else for(e=0;e<quiz_results_array.length;e++)if(quiz_correct_count>=quiz_results_array[e][1]&&quiz_correct_count<=quiz_results_array[e][2])s=quiz_results_array[e][3];s.length>0&&($(".result-show").removeClass("d-none"),document.getElementById("correct_answer").innerHTML=quiz_correct_count,document.getElementById("wrong_answer").innerHTML=quiz_answered_questions.length-quiz_correct_count,$("#result_container").append(s))}$(".btn-play-again").show().fadeIn(1e3)}function show_personality_quiz_result(){var e,s,r=get_max_selected(quiz_user_selected_answer);for(console.log(quiz_user_selected_answer),r.length<1&&(r=quiz_user_answers[0]),s=0;s<quiz_results_array.length;s++)if(r==quiz_results_array[s][0]){e=quiz_results_array[s][3];break}e.length>0&&$("#result_container").append(e),$(".btn-play-again").show()}function get_max_selected(e){var s={},r=0;for(var a in e)s[e[a]]=(s[e[a]]||0)+1,s[e[a]]>r&&(r=s[e[a]],e[a]);for(var t in s)if(s[t]==r)return t}$(document).on("click",".trivia-quiz-question .trivia-quiz-answer",function(){$(this).attr("data-post-id");var e=$(this).attr("data-question-id"),s=$(this).attr("data-answer-id");if(quiz_answers_array.length<1)return!1;if(-1!==jQuery.inArray(e,quiz_answered_questions))return!1;if($("#quiz_question_"+e).addClass("quiz-answered"),quiz_answered_questions.push(e),$("#question_answer_"+s+" .answer-icon").removeClass("icon-circle-outline"),is_exist_quiz_question_answer(e,s))quiz_correct_count++,$(this).addClass("correct-answer"),$("#question_answer_"+s+" .answer-icon").addClass("icon-check-circle"),$("#quiz_question_"+e+" .alert-success").show();else{var r=get_correct_answer_id(e);$(this).addClass("wrong-answer"),$("#question_answer_"+s+" .answer-icon").addClass("icon-close-circle"),$("#question_answer_"+r).addClass("correct-answer"),$("#question_answer_"+r+" .answer-icon").removeClass("icon-circle-outline"),$("#question_answer_"+r+" .answer-icon").addClass("icon-check-circle"),$("#quiz_question_"+e+" .alert-danger").show()}if(1==$("#quiz_question_"+e).attr("data-is-last")&&(is_last_question_answered=!0),is_last_question_answered){var a="result_container";$(".trivia-quiz-question").each(function(e){$(this).hasClass("quiz-answered")||(a=$(this).attr("id"))}),"result_container"==a&&setTimeout(function(){show_quiz_result()},800),setTimeout(function(){$("html, body").animate({scrollTop:$("#"+a).offset().top},400)},600)}}),$(document).on("click",".personality-quiz-question .personality-quiz-answer",function(){$(this).attr("data-post-id");var e=$(this).attr("data-question-id"),s=$(this).attr("data-answer-id"),r=$(this).attr("data-assigned-result-id");if($("#quiz_question_"+e).addClass("quiz-answered"),quiz_answered_questions.push(e),quiz_user_selected_answer.push(r),$("#question_answer_"+s+" .answer-icon").removeClass("icon-circle-outline"),$(this).addClass("correct-answer"),$("#question_answer_"+s+" .answer-icon").addClass("icon-check-circle"),1==$("#quiz_question_"+e).attr("data-is-last")&&(is_last_question_answered=!0),is_last_question_answered){var a="result_container";$(".personality-quiz-question").each(function(e){$(this).hasClass("quiz-answered")||(a=$(this).attr("id"))}),"result_container"==a&&setTimeout(function(){show_personality_quiz_result()},800),setTimeout(function(){$("html, body").animate({scrollTop:$("#"+a).offset().top},400)},600)}});
